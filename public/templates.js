angular.module("APP").run(["$templateCache",function(n){n.put("temp/tabs.html",'<!--tabs父视图-->\n<ion-tabs class="tabs-icon-top">\n    <ion-tab title="图书" icon-on="ion-ios-book balanced" icon-off="ion-ios-book-outline" ui-sref="tab.book_recommend">\n        <ion-nav-view name="tab-book"></ion-nav-view>\n    </ion-tab>\n    <ion-tab title="个人" icon-on="ion-ios-person balanced" icon-off="ion-ios-person-outline" ui-sref="tab.person_my">\n        <ion-nav-view name="tab-person"></ion-nav-view>\n    </ion-tab>\n</ion-tabs>'),n.put("temp/book/bookList.html",'<!--图书列表-->\n<ion-view ng-controller="book_bookList" title="{{title}}">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.book_searchList">寻书</button>\n    </ion-nav-buttons>\n    <ion-content>\n        <ion-list>\n            <!-- 搜索结果列表-->\n            <ion-item class="item-thumbnail-left" collection-repeat="book in books"\n                      ui-sref="tab.book_oneBook({isbn13:book.isbn13})">\n                <img ng-src="{{book.image}}">\n\n                <h2>{{book.title}}</h2>\n\n                <p ng-if="book[\'publisher\']">{{book[\'publisher\']}}/{{book[\'pubdate\']}}</p>\n\n                <p ng-if="book.author">{{book.author.toString()}}</p>\n\n                <p ng-if="book.price">{{book.price}}</p>\n            </ion-item>\n        </ion-list>\n        <ion-infinite-scroll ng-if="hasMore()"\n                             on-infinite="loadMore()"\n                             distance="1%">\n        </ion-infinite-scroll>\n    </ion-content>\n</ion-view>'),n.put("temp/book/businessSite.html",'<!--第三方电商-->\n<ion-view ng-controller="book_BusinessSite" title="购买新书">\n    <ion-content>\n        <iframe src="{{url}}" style="height: 100%;width: 100%">\n        </iframe>\n    </ion-content>\n</ion-view>'),n.put("temp/book/oneBook.html",'<ion-view ng-controller="book_oneBook" title="{{book.title}}">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.book_searchList">寻书</button>\n    </ion-nav-buttons>\n    <ion-content>\n        <!-- 正在加载-->\n        <div style="text-align: center;padding-top: 10px" ng-if="isLoading">\n            <ion-spinner icon="ripple" class="spinner-balanced"></ion-spinner>\n        </div>\n        <!-- 图书基本信息-->\n        <div class="list card">\n            <!-- 封面-->\n            <ion-item style="text-align: center">\n                <img ng-src="{{book.image}}" style="height: 180px" ng-click="WeChatJS$.previewOneImage(book.image)">\n            </ion-item>\n            <!-- 简介-->\n            <ion-item ng-if="book.summary" class="item-button-right">\n                <h3>简介</h3>\n\n                <p style="white-space: pre-wrap">{{book.summary.substr(0,30)}}...</p>\n                <button class="button button-clear button-balanced"\n                        ng-click="showSummary()">详情\n                </button>\n            </ion-item>\n            <!-- 作者-->\n            <ion-item ng-if="book.author.length>0" class="item-button-right">\n                {{book.author.toString()}} 著\n                <button class="button button-small button-clear button-balanced" ng-if="book.author_intro"\n                        ng-click="showAuthorIntro()">作者简介\n                </button>\n            </ion-item>\n            <!-- 出版信息-->\n            <ion-item class="item-button-right">\n                <i ng-if="book.price">定价:{{book.price}}</i>\n                <i>&nbsp;</i>\n                <i ng-if="book[\'publisher\']">{{book[\'publisher\']}}/{{book[\'pubdate\']}}</i>\n                <button class="button button-small button-clear button-balanced" ng-click="showPubInfo()">出版信息</button>\n            </ion-item>\n            <!-- 豆瓣书评-->\n            <ion-item ng-if="book[\'rating\']">\n                <review-star num-stars="{{book[\'rating\'][\'average\']/2}}" score="{{book[\'rating\'][\'average\']}}"\n                             num-raters="{{book[\'rating\'][\'numRaters\']}}"></review-star>\n            </ion-item>\n        </div>\n\n        <!-- 电商购买新书-->\n        <div class="list card" ng-if="businessInfos.length>0">\n            <ion-item class="item-divider">购买新书</ion-item>\n            <ion-item class="item-avatar" ng-repeat="info in businessInfos"\n                      ui-sref="tab.book_businessSite({url:info.siteUrl})">\n                <img ng-src="{{info[\'imageUrl\']}}">\n\n                <h2>{{info[\'siteName\']}} {{info[\'price\']}}元</h2>\n            </ion-item>\n        </div>\n\n        <!-- 二手书-->\n        <div class="list card">\n            <ion-item class="item-divider item-button-right">二手书\n                <button class="button button-clear button-balanced" style="top: 0"\n                        ui-sref="tab.person_uploadOneUsedBook({isbn13:book.isbn13})">上传旧书\n                </button>\n            </ion-item>\n            <ion-item ng-if="usedBookNumber==0" style="text-align: center">还没有对应的二手书</ion-item>\n            <ion-item ng-if="UsedBook$.ISBN.nowEqualISBNJsonUsedBookList.length>0" class="item-thumbnail-left"\n                      ng-repeat="onJsonUsedBook in UsedBook$.ISBN.nowEqualISBNJsonUsedBookList"\n                      ui-sref="tab.book_oneUsedBook({usedBookAvosObjectId:onJsonUsedBook.objectId})">\n                <img ng-src="{{onJsonUsedBook.avosImageFile.thumbnailURL(100, 100)}}">\n\n                <h2>要价:{{onJsonUsedBook.price}}</h2>\n\n                <h4>{{onJsonUsedBook.updatedAt | date:\'mediumDate\' }}</h4>\n\n                <p>{{onJsonUsedBook.des}}</p>\n            </ion-item>\n            <ion-item ng-if="UsedBook$.ISBN.nowEqualISBNJsonUsedBookList.length>0"\n                      style="padding: 0;text-align: center">\n                <a class="button button-small button-clear button-balanced"\n                   ui-sref="tab.book_usedBookList({cmd:\'isbn\',isbn13:isbn13})">共{{usedBookNumber}}本旧书,查看全部</a>\n            </ion-item>\n\n        </div>\n\n    </ion-content>\n</ion-view>\n\n'),n.put("temp/book/oneUsedBook.html",'<!--一本二手书信息-->\n<ion-view ng-controller="book_oneUsedBook" title="二手 图书名称">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.book_searchList">寻书</button>\n    </ion-nav-buttons>\n    <ion-content>\n        <!-- 图书基本信息-->\n        <div class="list card">\n            <ion-item style="text-align: center">\n                <img ng-src="{{jsonUsedBook.avosImageFile.thumbnailURL(200, 200)}}" style="height: 180px"\n                     ng-click="WeChatJS$.previewOneImage(jsonUsedBook.avosImageFile.thumbnailURL(400, 400))">\n            </ion-item>\n            <ion-item>\n                <h3>要价:{{jsonUsedBook.price}}</h3>\n                <h4>{{jsonUsedBook.updatedAt | date:\'mediumDate\' }}</h4>\n\n                <p style="white-space: pre-wrap">{{jsonUsedBook.des}}</p>\n            </ion-item>\n        </div>\n        <div class="list card">\n            <ion-item class="item-divider  item-button-right">主人信息\n                <a class="button button-clear button-balanced" style="top: 0" ng-href="mailto:{{ownerInfo.email}}">联系主人\n                </a>\n            </ion-item>\n            <user-info json-user-info="ownerInfo" user-used-book-number="ownerUsedBookNumber"></user-info>\n        </div>\n    </ion-content>\n</ion-view>'),n.put("temp/book/recommend.html",'<ion-view ng-controller="book_recommend" title="书循">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.book_searchList">寻书</button>\n    </ion-nav-buttons>\n    <ion-content>\n        <!-- 图书分类-->\n        <div ng-if="BookRecommend$[\'BookTag\'][\'tag\']">\n            <ion-item class="item-divider item-button-right">图书分类\n                <button class="button button-small button-clear button-balanced" style="top: 0"\n                        ng-click="bookTagsModalView.show()">更多\n                </button>\n            </ion-item>\n            <ion-item style="white-space:normal">\n                <button class="button button-small button-outline button-balanced" style="margin: 5px"\n                        ui-sref="tab.book_bookList({cmd:\'tag\',tag:tag})"\n                        ng-repeat="tag in BookRecommend$[\'BookTag\'].getTagAttrNames()">{{tag}}\n                </button>\n            </ion-item>\n        </div>\n        <!-- 根据专业推荐的书-->\n        <div ng-if="BookRecommend$.MajorBook.books.length>0">\n            <ion-item class="item-divider item-button-right">{{BookRecommend$.MajorBook.major}}\n                <button class="button button-small button-clear button-balanced" style="top: 0"\n                        ui-sref="tab.book_bookList({cmd:\'major\'})">更多\n                </button>\n            </ion-item>\n            <douban-book-one-line json-books-info="BookRecommend$.MajorBook.books"></douban-book-one-line>\n        </div>\n        <!-- 用户下学期需要的书-->\n        <div ng-if="BookRecommend$.NeedBook.books.length>0">\n            <ion-item class="item-divider item-button-right">你可能需要\n                <button class="button button-small button-clear button-balanced" style="top: 0"\n                        ui-sref="tab.book_bookList({cmd:\'need\'})">更多\n                </button>\n            </ion-item>\n            <douban-book-one-line json-books-info="BookRecommend$.NeedBook.books"></douban-book-one-line>\n        </div>\n        <!-- 用户附近的二手书-->\n        <div ng-if="BookRecommend$.NearBook.jsonBooks.length>0">\n            <ion-item class="item-divider item-button-right">附近的旧书\n                <button class="button button-small button-clear button-balanced" style="top: 0"\n                        ui-sref="tab.book_usedBookList({cmd:\'near\'})">更多\n                </button>\n            </ion-item>\n            <used-book-one-line json-books-info="BookRecommend$.NearBook.jsonBooks"></used-book-one-line>\n        </div>\n        <!-- 用户附近的用户-->\n        <div ng-if="BookRecommend$.NearUser.jsonUsers.length>0">\n            <ion-item class="item-divider item-button-right">附近的同学\n                <button class="button button-small button-clear button-balanced" style="top: 0"\n                        ui-sref="tab.book_userList({cmd:\'near\'})">更多\n                </button>\n            </ion-item>\n            <ion-item style="padding: 0;">\n                <img ng-repeat="one in BookRecommend$.NearUser.jsonUsers" ng-src="{{one.avatarUrl}}"\n                     ui-sref="tab.book_usedBookListByOwner({ownerId:one.objectId})"\n                     style="width: 40px;height: 40px;border-radius: 50%;overflow: hidden;margin: 5px">\n            </ion-item>\n        </div>\n    </ion-content>\n\n    <!-- 图书所有分类-->\n    <script type="text/ng-template" id="template/bookTags.html">\n        <ion-modal-view>\n            <ion-header-bar class="item-input-inset">\n                <h1 class="title">图书热门分类</h1>\n                <button class="button button-clear button-balanced"\n                        ng-click="bookTagsModalView.hide()">返回\n                </button>\n            </ion-header-bar>\n            <ion-content class="has-header">\n                <ion-list>\n                    <div ng-repeat="bigTag in BookRecommend$[\'BookTag\'].getTagAttrNames()">\n                        <ion-item class="item-divider item-button-right">{{bigTag}}</ion-item>\n                        <ion-item style="white-space:normal">\n                            <button class="button button-small button-outline button-balanced" style="margin: 5px"\n                                    ui-sref="tab.book_bookList({cmd:\'tag\',tag:tag})"\n                                    ng-click="bookTagsModalView.hide()"\n                                    ng-repeat="tag in BookRecommend$[\'BookTag\'][\'tag\'][bigTag]">\n                                {{tag}}\n                            </button>\n                        </ion-item>\n                    </div>\n                </ion-list>\n            </ion-content>\n        </ion-modal-view>\n    </script>\n</ion-view>'),n.put("temp/book/searchList.html",'<ion-view title="图书搜索">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.book_recommend">书循</button>\n    </ion-nav-buttons>\n    <ion-content ng-controller="book_searchList">\n        <ion-list>\n            <!-- 关键字输入框-->\n            <ion-item class="item-input-inset">\n                <button class="button button-small button-clear" ng-click="scanQRBtnOnClick()">扫码\n                </button>\n                <label class="item-input-wrapper">\n                    <i class="icon ion-search placeholder-icon"></i>\n                    <input type="search" placeholder="书名 作者 ISBN" ng-model="SearchBook$.keyword"\n                           ng-change="SearchBook$.searchInputOnChange()">\n                </label>\n                <button class="button button-small button-clear" ng-click="SearchBook$.searchBtnOnClick()">\n                    搜索\n                </button>\n            </ion-item>\n\n            <!-- 搜索结果列表-->\n            <ion-item class="item-thumbnail-left" collection-repeat="book in SearchBook$.books"\n                      ui-sref="tab.book_oneBook({isbn13:book.isbn13})">\n                <img ng-src="{{book.image}}">\n\n                <h2>{{book.title}}</h2>\n\n                <p ng-if="book[\'publisher\']">{{book[\'publisher\']}}/{{book[\'pubdate\']}}</p>\n\n                <p ng-if="book.author">{{book.author.toString()}}</p>\n\n                <p ng-if="book.price">{{book.price}}</p>\n            </ion-item>\n\n        </ion-list>\n        <ion-infinite-scroll ng-if="SearchBook$.hasMore()"\n                             on-infinite="SearchBook$.loadMore()"\n                             distance="1%">\n        </ion-infinite-scroll>\n    </ion-content>\n</ion-view>'),n.put("temp/book/usedBookList.html",'<ion-view ng-controller="book_usedBookList" title="{{title}}">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.book_searchList">寻书</button>\n    </ion-nav-buttons>\n    <ion-content>\n        <ion-list>\n            <!-- 搜索结果列表-->\n            <ion-item class="item-thumbnail-left"\n                      ng-repeat="jsonUsedBook in jsonUsedBooks"\n                      ui-sref="tab.book_oneUsedBook({usedBookAvosObjectId:jsonUsedBook.objectId})">\n                <img ng-src="{{jsonUsedBook.avosImageFile.thumbnailURL(100, 100)}}">\n\n                <h3>要价:{{jsonUsedBook.price}}</h3>\n                <h4>{{jsonUsedBook.updatedAt | date:\'mediumDate\' }}</h4>\n\n                <p>描述:{{jsonUsedBook.des}}</p>\n            </ion-item>\n        </ion-list>\n        <ion-infinite-scroll\n                ng-if="hasMore()"\n                on-infinite="loadMore()"\n                distance="1%">\n        </ion-infinite-scroll>\n    </ion-content>\n</ion-view>'),n.put("temp/book/usedBookListByOwner.html",'<ion-view ng-controller="book_usedBookListByOwner" title="主人的二手书">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.book_searchList">寻书</button>\n    </ion-nav-buttons>\n    <ion-content>\n        <ion-list>\n            <user-info json-user-info="jsonOwnerInfo"></user-info>\n            <!-- 搜索结果列表-->\n            <ion-item ng-if="avosUsedBookList.length>0" class="item-thumbnail-left"\n                      ng-repeat="avosUsedBook in avosUsedBookList"\n                      ui-sref="tab.book_oneUsedBook({usedBookAvosObjectId:avosUsedBook.id})">\n                <img ng-src="{{avosUsedBook.get(\'avosImageFile\').thumbnailURL(100, 100)}}">\n\n                <h3>要价:{{avosUsedBook.get(\'price\')}}</h3>\n                <h4>{{avosUsedBook.updatedAt | date:\'mediumDate\' }}</h4>\n\n                <p>描述:{{avosUsedBook.get(\'des\')}}</p>\n            </ion-item>\n            <ion-item ng-if="avosUsedBookList.length==0" style="text-align: center;padding: 5px">主人还没有旧书要卖</ion-item>\n        </ion-list>\n    </ion-content>\n</ion-view>'),n.put("temp/book/userList.html",'<!--图书列表-->\n<ion-view ng-controller="book_userList" title="{{title}}">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.book_searchList">寻书</button>\n    </ion-nav-buttons>\n    <ion-content>\n        <div class="card" ng-repeat="one in jsonUsers">\n            <user-info json-user-info="one"\n                       user-used-book-number="one.usedBookNumber"></user-info>\n        </div>\n        <ion-infinite-scroll ng-if="hasMore()"\n                             on-infinite="loadMore()"\n                             distance="1%">\n        </ion-infinite-scroll>\n    </ion-content>\n</ion-view>'),n.put("temp/person/editOneUsedBook.html",'<!--编辑一本上传的二手书-->\n<ion-view ng-controller="person_editOneUsedBook" title="编辑你的 图书名称">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.person_my">我</button>\n    </ion-nav-buttons>+\n    <ion-content class="padding">\n        <!-- 图片信息-->\n        <div class="list card">\n            <ion-item style="text-align: center">\n                <img ng-src="{{avosUsedBook.get(\'avosImageFile\').thumbnailURL(200, 200)}}" style="height: 180px">\n            </ion-item>\n        </div>\n        <!-- 其他信息-->\n        <div class="list card">\n            <label class="item item-input item-stacked-label">\n                <span class="input-label">描述</span>\n                <input type="text" placeholder="这书有什么特别之处" ng-model="jsonUsedBookChangeInfo.des"\n                       ng-change="valueHasChange=true">\n            </label>\n            <label class="item item-input item-stacked-label">\n                <span class="input-label">要价</span>\n                <input type="number" placeholder="人民币 只输入数值" ng-model="jsonUsedBookChangeInfo.price"\n                       ng-change="valueHasChange=true">\n            </label>\n        </div>\n        <!-- 提交-->\n        <button class="button button-block button-outline button-balanced" ng-click="submitOnClick()"\n                ng-disabled="!valueHasChange">\n            提交修改\n        </button>\n    </ion-content>\n</ion-view>'),n.put("temp/person/editPersonInfo.html",'<!--编辑个人信息-->\n<ion-view ng-controller="person_editPersonInfo" title="修改你的信息">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.person_my">我</button>\n    </ion-nav-buttons>\n    <ion-content class="padding">\n        <!-- 基本信息-->\n        <user-info json-user-info="userInfo"></user-info>\n        <!-- 填写其他信息-->\n        <div class="list list-inset">\n            <ion-item class="item-icon-right" ng-click="chooseSchoolModalView.show()">\n                在读学校\n                <span class="item-note" ng-if="userInfo.school">{{userInfo.school}}</span>\n                <i class="icon ion-ios-arrow-right balanced"></i>\n            </ion-item>\n            <ion-item class="item-icon-right" ng-click="chooseMajorModalView.show()">\n                所学专业\n                <span class="item-note" ng-if="userInfo.major">{{userInfo.major}}</span>\n                <i class="icon ion-ios-arrow-right balanced"></i>\n            </ion-item>\n            <label class="item item-input item-select">\n                <span class="input-label">\n                    大学入学时间\n                </span>\n                <select ng-model="userInfo.startSchoolYear" ng-change="attrHasChange=true"\n                        ng-options="one as one for one in startSchoolYearOptions">\n                </select>\n            </label>\n        </div>\n        <!-- 提交-->\n        <button class="button button-block button-outline button-balanced" ng-click="submitOnClick()"\n                ng-disabled="!attrHasChange">\n            提交修改\n        </button>\n    </ion-content>\n</ion-view>'),n.put("temp/person/my.html",'<!--个人主页-->\n<ion-view ng-controller="person_my" title="我的书循">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ng-click="logOut()">退出</button>\n    </ion-nav-buttons>\n    <ion-content>\n        <!-- 基本信息-->\n        <ion-item class="item-divider item-button-right">我的信息\n            <button class="button button-clear button-balanced" style="top: 0"\n                    ui-sref="tab.person_editPersonInfo">修改信息\n            </button>\n        </ion-item>\n        <user-info ng-if="userInfo" json-user-info="userInfo"></user-info>\n        <ion-item class="item-divider item-button-right">二手书\n            <button class="button button-clear button-balanced" style="top: 0"\n                    ui-sref="tab.person_uploadOneUsedBook">上传旧书\n            </button>\n        </ion-item>\n        <!-- 我上传的二手书-->\n        <ion-item ng-if="myUsedBookNumber>0" ui-sref="tab.person_usedBooksList" class="item-icon-right">\n            已上传{{myUsedBookNumber}}本旧书\n            <i class="icon ion-ios-arrow-right balanced"></i>\n        </ion-item>\n    </ion-content>\n</ion-view>'),n.put("temp/person/signUp.html",'<!--注册-->\n<ion-view ng-controller="person_signUp" title="加入书循">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.book_recommend">书循</button>\n    </ion-nav-buttons>\n    <ion-content class="padding">\n        <!-- 正在加载-->\n        <div style="text-align: center;margin: 5px" ng-if="isLoading">\n            <ion-spinner icon="ripple" class="spinner-balanced"></ion-spinner>\n        </div>\n        <!-- 微信信息-->\n        <div class="item item-avatar" ng-if="userInfo.openId">\n            <img ng-src="{{userInfo.avatarUrl}}">\n\n            <h2>{{userInfo.nickName}}\n                <i class="icon ion-male" style="color: #5eb1ed" ng-if="userInfo.sex==1"></i>\n                <i class="icon ion-female" style="color: #ff6d9e" ng-if="userInfo.sex==2"></i>\n            </h2>\n        </div>\n        <!-- 填写其他信息-->\n        <div class="list list-inset">\n            <ion-item class="item-icon-right" ng-click="chooseSchoolModalView.show()">\n                你在读的学校\n                <span class="item-note" ng-if="userInfo.school">{{userInfo.school}}</span>\n                <i class="icon ion-ios-arrow-right balanced"></i>\n            </ion-item>\n            <ion-item class="item-icon-right" ng-click="chooseMajorModalView.show()">\n                你所学的专业\n                <span class="item-note" ng-if="userInfo.major">{{userInfo.major}}</span>\n                <i class="icon ion-ios-arrow-right balanced"></i>\n            </ion-item>\n            <label class="item item-input item-select">\n                <span class="input-label">\n                    大学入学时间\n                </span>\n                <select ng-model="userInfo.startSchoolYear">\n                    <option ng-repeat="one in startSchoolYearOptions" value="{{one}}">{{one}}</option>\n                </select>\n            </label>\n        </div>\n        <!-- 填写邮箱和密码-->\n        <div class="list list-inset">\n            <label class="item item-input">\n                <input type="email" placeholder="输入邮箱方便买家联系你" ng-model="userInfo.email">\n            </label>\n\n            <label class="item item-input">\n                <input type="text" placeholder="输入登入密码" ng-model="userInfo.password">\n            </label>\n        </div>\n        <!-- 提交-->\n        <button class="button button-block button-outline button-balanced" ng-click="submitOnClick()"\n                ng-disabled="isLoading || !(userInfo.email && userInfo.password && userInfo.school && userInfo.major && userInfo.startSchoolYear)">\n            立即加入\n        </button>\n    </ion-content>\n</ion-view>'),n.put("temp/person/uploadOneUsedBook.html",'<ion-view ng-controller="person_uploadOneUsedBook" title="上传二手书">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.person_my">我</button>\n    </ion-nav-buttons>\n    <ion-content style="text-align: center" class="padding">\n        <!-- 正在加载-->\n        <div style="text-align: center;padding-top: 10px" ng-if="isLoading">\n            <ion-spinner icon="ripple" class="spinner-balanced"></ion-spinner>\n        </div>\n        <!-- 扫码-->\n        <div ng-if="!usedBookInfo.isbn13">\n            <h5>扫码书后面的条形码获得图书信息</h5>\n            <button class="button button-outline button-balanced" ng-click="scanQRBtnOnClick()">扫条形码</button>\n            <br>\n            <button class="button button-clear button-small button-balanced" ng-click="noBarCodeModalView.show()">没条码?\n            </button>\n        </div>\n        <!-- 图书基本信息-->\n        <div class="list card" ng-if="usedBookInfo.isbn13">\n            <!-- 封面-->\n            <ion-item style="text-align: center">\n                <img ng-src="{{doubanBookInfo.image}}" style="height: 180px"\n                     ng-click="WeChatJS$.previewOneImage(doubanBookInfo.image)">\n            </ion-item>\n            <ion-item>\n                <p>\n                    {{doubanBookInfo.title}}/<span ng-if="doubanBookInfo.price">{{doubanBookInfo.price}}</span>\n                </p>\n                <!-- 作者-->\n                <p ng-if="doubanBookInfo.author.length>0" class="item-button-right">\n                    {{doubanBookInfo.author.toString()}} 著\n                </p>\n                <!-- 出版信息-->\n                <p ng-if="doubanBookInfo[\'publisher\']">{{doubanBookInfo[\'publisher\']}}/{{doubanBookInfo[\'pubdate\']}}</p>\n            </ion-item>\n        </div>\n        <hr style="margin: 10px">\n        <!-- 上传图片-->\n        <div ng-if="!localId">\n            <h5>上传一张它的照片让大家知道它的新旧程度</h5>\n            <button class="button button-outline button-balanced" ng-click="uploadPicOnClick()">上传照片</button>\n        </div>\n        <img ng-if="localId" ng-src="{{localId}}">\n        <hr style="margin: 10px;">\n        <!-- 填写价格和描述-->\n        <div class="list list-inset">\n            <label class="item item-input">\n                <input type="number" ng-model="usedBookInfo.price" placeholder="输入要价(人民币)">\n            </label>\n            <label class="item item-input">\n                <input type="text" ng-model="usedBookInfo.des" placeholder="对这本书你还有什么想说的吗?">\n            </label>\n        </div>\n\n        <button ng-disabled="!(!isLoading && usedBookInfo.isbn13 && usedBookInfo.price)"\n                class="button button-block button-outline button-balanced" ng-click="submitOnClick()">\n            提交二手书\n        </button>\n\n    </ion-content>\n    <script type="text/ng-template" id="template/noBarCodeModalView.html">\n        <ion-modal-view>\n            <ion-header-bar>\n                <h2 class="title">书没条码时上传方法</h2>\n                <button class="button button-clear button-balanced"\n                        ng-click="noBarCodeModalView.hide()">返回\n                </button>\n            </ion-header-bar>\n            <ion-content class="padding" style="text-align: center">\n                <img style="max-width: 98%" ng-src="img/noCodeBar.png">\n                <button class="button button-block button-outline button-balanced" ui-sref="tab.book_searchList"\n                        ng-click="noBarCodeModalView.hide()">\n                    开始上传\n                </button>\n            </ion-content>\n        </ion-modal-view>\n\n    </script>\n</ion-view>'),n.put("temp/person/usedBookList.html",'<!--管理上传的二手书列表-->\n<ion-view ng-controller="person_usedBookList" title="管理我的二手图书">\n    <ion-nav-buttons side="right">\n        <button class="button button-clear button-balanced" ui-sref="tab.person_my">我</button>\n    </ion-nav-buttons>\n    <ion-content>\n        <ion-list>\n            <!-- 正在加载-->\n            <div style="text-align: center;margin: 10px" ng-if="UsedBook$.isLoading">\n                <ion-spinner icon="ripple" class="spinner-balanced"></ion-spinner>\n            </div>\n\n            <ion-item class="item-divider item-button-right">正在架上\n                <button class="button button-clear button-balanced" style="top: 0"\n                        ui-sref="tab.person_uploadOneUsedBook({isbn13:book.isbn13})">上传旧书\n                </button>\n            </ion-item>\n            <ion-item ng-repeat="oneAvosUsedBook in UsedBook$.myAvosUsedBookList" class="item-thumbnail-left">\n                <img ng-if="oneAvosUsedBook.get(\'avosImageFile\')"\n                     ng-src="{{oneAvosUsedBook.get(\'avosImageFile\').thumbnailURL(100, 100)}}">\n\n                <p ng-if="oneAvosUsedBook.get(\'price\')">要价:{{oneAvosUsedBook.get(\'price\')}}</p>\n\n                <p ng-if="oneAvosUsedBook.get(\'des\')">描述:{{oneAvosUsedBook.get(\'des\')}}</p>\n                <button class="button button-small button-outline button-assertive"\n                        ng-click="UsedBook$.removeUsedBook(oneAvosUsedBook)">删除\n                </button>\n                <button class="button button-small button-outline button-balanced"\n                        ui-sref="tab.person_editOneUsedBook({indexInMyAvosUsedBook_notSell:$index})">编辑\n                </button>\n                <button class="button button-small button-outline button-positive"\n                        ng-click="UsedBook$.usedBookHasSell(oneAvosUsedBook)">已卖\n                </button>\n            </ion-item>\n            <ion-item ng-if="UsedBook$.myAvosUsedBookList.length==0">你还没有上传过书,点击 上传旧书</ion-item>\n\n            <ion-item class="item-divider item-button-right">已经卖出</ion-item>\n            <ion-item ng-repeat="oneAvosUsedBook in HasSellUsedBook$.myAvosUsedBookList" class="item-avatar">\n                <p ng-if="oneAvosUsedBook.get(\'des\')">描述:{{oneAvosUsedBook.get(\'des\')}}</p>\n                <span ng-if="oneAvosUsedBook.get(\'price\')">要价:{{oneAvosUsedBook.get(\'price\')}}</span>\n                <button class="button button-small button-outline button-assertive" style="float: right"\n                        ng-click="HasSellUsedBook$.removeUsedBook(oneAvosUsedBook)">删除\n                </button>\n            </ion-item>\n            <ion-item ng-if="HasSellUsedBook$.myAvosUsedBookList.length==0">你还没有已经卖出的书,点击 已卖</ion-item>\n        </ion-list>\n    </ion-content>\n</ion-view>'),n.put("temp/tool/chooseMajorModalView.html",'<!-- 选择专业-->\n<ion-modal-view>\n    <ion-header-bar class="item-input-inset">\n        <!-- 关键字输入框-->\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="search" placeholder="输入名称搜索" ng-model="InfoService$.searchMajorKeyword">\n        </label>\n        <button class="button button-clear button-balanced"\n                ng-click="chooseMajorModalView.hide()">返回\n        </button>\n    </ion-header-bar>\n    <ion-content class="has-header">\n        <ul class="list">\n            <ion-item item-height="55px"\n                      collection-repeat="oneMajor in InfoService$.majors | filter:InfoService$.filter_majorByKeyword"\n                      ng-click="majorOnChoose(oneMajor[\'name\'])">\n                {{oneMajor[\'name\']}}\n            </ion-item>\n        </ul>\n    </ion-content>\n</ion-modal-view>\n'),n.put("temp/tool/chooseSchoolModalView.html",'<!-- 选择学校-->\n<ion-modal-view>\n    <ion-header-bar class="item-input-inset">\n        <!-- 关键字输入框-->\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="search" placeholder="输入名称搜索" ng-model="InfoService$.School.searchSchoolKeyword">\n        </label>\n        <button class="button button-clear button-balanced"\n                ng-click="chooseSchoolModalView.hide()">返回\n        </button>\n    </ion-header-bar>\n    <ion-content class="has-header">\n        <ul class="list">\n            <ion-item item-height="55px"\n                      collection-repeat="school in InfoService$.School.schools | filter:InfoService$.School.filter_schoolByKeyword"\n                      ng-click="schoolOnChoose(school)">\n                {{school}}\n            </ion-item>\n        </ul>\n        <ion-infinite-scroll ng-if="InfoService$.School.hasMore"\n                             on-infinite="InfoService$.School.loadMore()"\n                             distance="1%">\n        </ion-infinite-scroll>\n    </ion-content>\n</ion-modal-view>'),
n.put("temp/tool/doubanBookOneLineTemplate.html",'<ion-item style="text-align: center;padding: 0;">\n    <div ng-repeat="jsonBook in jsonBooksInfo.slice(0,showNumber)" ui-sref="tab.book_oneBook({isbn13:jsonBook.isbn13})"\n         style="display: inline-block;padding: 5px;width: 80px;height: 120px">\n        <img ng-if="jsonBook.image" ng-src="{{jsonBook.image}}" style="width: 70px;height: 100px">\n        <h5 ng-if="jsonBook.title" class="title">{{jsonBook.title}}</h5>\n    </div>\n</ion-item>'),n.put("temp/tool/titleAndPreModalView.html",'<!--显示标题和详细文字的modal-->\n<ion-modal-view>\n    <ion-header-bar>\n        <h2 class="title">{{titleAndPreModalViewData.title}}</h2>\n        <button class="button button-clear button-balanced" ng-click="titleAndPreModalView.hide()">返回</button>\n    </ion-header-bar>\n    <ion-content class="padding">\n        <pre>{{titleAndPreModalViewData.pre}}</pre>\n    </ion-content>\n</ion-modal-view>\n'),n.put("temp/tool/usedBookOneLineTemplate.html",'<ion-item style="text-align: center;padding: 0;">\n    <div ng-repeat="jsonBook in jsonBooksInfo.slice(0,showNumber)" ui-sref="tab.book_oneBook({isbn13:jsonBook.isbn13})"\n         style="display: inline-block;padding: 5px;width: 80px;height: 120px">\n        <img ng-if="jsonBook.avosImageFile" ng-src="{{jsonBook.avosImageFile.thumbnailURL(200, 200)}}"\n             style="width: 70px;height: 100px">\n        <h5 ng-if="jsonBook.des" class="title">{{jsonBook.des}}</h5>\n    </div>\n</ion-item>\n'),n.put("temp/tool/userInfoTemplate.html",'<!-- 用户基本信息-->\n<div class="item item-avatar" ng-if="jsonUserInfo">\n    <img ng-src="{{jsonUserInfo.avatarUrl}}">\n\n    <h2>{{jsonUserInfo.nickName}}\n        <i class="icon ion-male" style="color: #5eb1ed" ng-if="jsonUserInfo.sex==1"></i>\n        <i class="icon ion-female" style="color: #ff6d9e" ng-if="jsonUserInfo.sex==2"></i>\n        <i>{{jsonUserInfo.startSchoolYear}}级</i>\n        <button ng-if="jsonUserInfo.location" class="button button-small button-clear button-balanced" style="float: right"\n                ng-click="WeChatJS$.openMap(jsonUserInfo.location.latitude,jsonUserInfo.location.longitude)">地图\n        </button>\n    </h2>\n\n    <p>{{jsonUserInfo.major}}/{{jsonUserInfo.school}}</p>\n</div>\n<!-- 主人所有旧书链接-->\n<ion-item ng-if="userUsedBookNumber" style="padding: 0;text-align: center">\n    <a ng-if="userUsedBookNumber>0" class="button button-small button-clear button-balanced"\n       ui-sref="tab.book_usedBookListByOwner({ownerId:jsonUserInfo.objectId})">查看主人其它{{userUsedBookNumber}}本旧书</a>\n    <a ng-if="userUsedBookNumber==0" class="button button-small button-clear button-balanced">主人还没有在买的二手书</a>\n</ion-item>\n'),n.put("temp/tool/userLoginModalView.html",'<!-- 提示用户登入-->\n<ion-modal-view>\n    <ion-header-bar class="item-input-inset">\n        <button class="button button-clear button-balanced"\n                ng-click="userLoginModalView.hide()">返回\n        </button>\n        <h2 class="title">{{title}}</h2>\n    </ion-header-bar>\n    <ion-content class="padding has-header" style="text-align: center">\n        <!-- 填写邮箱和密码-->\n        <div class="list list-inset">\n            <label class="item item-input">\n                <input type="email" placeholder="输入你的邮箱" ng-model="loginInfo.email">\n            </label>\n\n            <label class="item item-input">\n                <input type="password" placeholder="输入登入密码" ng-model="loginInfo.password">\n            </label>\n        </div>\n        <!-- 提交-->\n        <button class="button button-block button-outline button-balanced" ng-click="submitOnClick()"\n                ng-disabled="!(loginInfo.email && loginInfo.password)">\n            登入书循\n        </button>\n\n        <hr style="margin: 30px">\n        <!-- 加入书循-->\n        <p>没有账号?</p>\n        <a class="button button-outline button-balanced" ng-href="{{WeChatJS$.getOAuthURL()}}"\n                ng-click="userLoginModalView.hide()">\n            加入书循\n        </a>\n\n    </ion-content>\n</ion-modal-view>\n')}]);