<!--管理我发布的求书列表-->
<ion-view ng-controller="ng_person_needBookList" view-title="管理我发布的求书">
    <ion-nav-buttons side="right">
        <button class="button button-clear button-balanced" ui-sref="person.my">我</button>
    </ion-nav-buttons>
    <ion-content>
        <ion-list>
            <div style="text-align: center;margin: 10px" ng-if="UsedBook$.isLoading">
                <ion-spinner icon="ripple" class="spinner-balanced"></ion-spinner>
            </div>

            <ion-item class="item-divider item-button-right">正在求书
                <button class="button button-clear button-balanced"
                        ui-sref="person.upload-one-need-book">发布求书
                </button>
            </ion-item>
            <ion-one-need-book ng-repeat="needBook in UsedBook$.MyNeedBook.needBooks" need-book="needBook"
                           should-show-manage-btn="true"></ion-one-need-book>
            <ion-item ng-if="UsedBook$.MyNeedBook.needBooks.length==0">你还没有发布过,点击发布求书</ion-item>
        </ion-list>
        <ion-infinite-scroll ng-if="UsedBook$.MyNeedBook.hasMore()"
                             on-infinite="UsedBook$.MyNeedBook.loadMore()"
                             distance="1%">
        </ion-infinite-scroll>
    </ion-content>
</ion-view>