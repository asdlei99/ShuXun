<!--管理我发布的求书列表-->
<ion-view ng-controller="person_needBookList" view-title="管理我发布的求书">
    <ion-nav-buttons side="right">
        <button class="button button-clear button-balanced" ui-sref="tab.person_my">我</button>
    </ion-nav-buttons>
    <ion-content>
        <ion-list>
            <div style="text-align: center;margin: 10px" ng-if="UsedBook$.isLoading">
                <ion-spinner icon="ripple" class="spinner-balanced"></ion-spinner>
            </div>

            <ion-item class="item-divider item-button-right">正在求书
                <button class="button button-clear button-balanced" style="top: 0"
                        ui-sref="tab.person_uploadOneNeedBook">发布求书
                </button>
            </ion-item>
            <!-- TODO ng-repeat is slow-->
            <one-need-book ng-repeat="needBook in UsedBook$.myNeedBookList" need-book="needBook"
                           should-show-manage-btn="true"></one-need-book>
            <ion-item ng-if="UsedBook$.myNeedBookList.length==0">你还没有发布过,点击发布求书</ion-item>
        </ion-list>
    </ion-content>
</ion-view>